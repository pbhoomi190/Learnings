ğŸ“Œ What It Is
Creates a new object while updating only selected fields.

ğŸ§  When To Use
Immutable state models
Bloc state updates
Model updates

ğŸ›  How To Create
UserState copyWith({
  String? name,
  String? email,
}) {
  return UserState(
    name: name ?? this.name,
    email: email ?? this.email,
  );
}

=============================

Immutability means:
Once an object is created, its values cannot be changed.
Instead of modifying an object,
you create a new one.

When Is a Class Immutable?
A class is truly immutable when:
âœ… All fields are final
âœ… No setters
âœ… No mutable objects inside
âœ… Collections are unmodifiable
âœ… Object state cannot change after creation

Why Adding final Is NOT Enough
Many people think:
â€œIf all variables are final, the class is immutable.â€
This is only partially true.
final means:
The reference cannot be reassigned.
It does NOT mean:
The internal object cannot change.

==============================

Shallow vs Deep Immutability
ğŸ”¹ Shallow Immutability
Reference cannot change
Internal object can still mutate
Example:
final List<String> hobbies;
ğŸ”¹ Deep Immutability
Neither reference nor internal data can change
Example:
class User {
  final List<String> hobbies;

  User(List<String> hobbies)
      : hobbies = List.unmodifiable(hobbies);
}
Now:
user.hobbies.add("Travel"); // âŒ Error
Now it is truly immutable.


==============================

What Is copyWith?
copyWith is a helper method used in immutable classes to:
Create a new object by copying the existing object and modifying only selected fields.

Example With copyWith
class UserState {
  final String name;
  final String email;
  final String profileImage;

  UserState({
    required this.name,
    required this.email,
    required this.profileImage,
  });

  UserState copyWith({
    String? name,
    String? email,
    String? profileImage,
  }) {
    return UserState(
      name: name ?? this.name,
      email: email ?? this.email,
      profileImage: profileImage ?? this.profileImage,
    );
  }
}
Usage:
emit(state.copyWith(profileImage: newImage));
Clean.
Safe.
Immutable.
